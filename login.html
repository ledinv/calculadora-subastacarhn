<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Iniciar Sesi√≥n ‚Äì SubastaCarHN</title>
  <style>
    /* copia aqu√≠ el mismo CSS de register.html */
    body{font-family:Helvetica,sans-serif;margin:0;padding:0;background:#f9f9f9;}
    header{background:linear-gradient(to right,#002f6c,#004aad);height:70px;display:flex;align-items:center;justify-content:space-between;padding:0 15px;position:sticky;top:0;z-index:999;}
    header a.brand{color:white;font-size:22px;font-weight:bold;text-decoration:none;}
    .menu-icon{font-size:20px;background:#ffc20e;color:#002f6c;padding:8px 10px;border-radius:6px;cursor:pointer;font-weight:bold;box-shadow:0 2px 8px rgba(0,0,0,0.3);}
    #menu-links{display:none;list-style:none;padding:10px;margin:10px 0 0;background:white;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.2);position:absolute;top:70px;left:15px;z-index:1000;}
    #menu-links li{margin-bottom:10px;}
    #menu-links a{color:#002f6c;font-weight:bold;text-decoration:none;}
    .layout{display:flex;justify-content:center;align-items:center;padding:40px 10px;}
    .contenido-central{width:100%;max-width:400px;background:white;border-radius:15px;box-shadow:0 4px 12px rgba(0,0,0,0.08);padding:20px;}
    .contenido-central h1{text-align:center;color:#002f6c;margin-bottom:20px;}
    label{font-weight:bold;color:#002f6c;display:block;margin-top:10px;}
    input{font-size:14px;padding:8px;border-radius:8px;border:1px solid #004aad;background:#f0f8ff;width:100%;margin-top:5px;box-sizing:border-box;}
    .styled-btn{background-color:#ffc20e;color:#002f6c;font-weight:bold;border:none;border-radius:8px;padding:10px;margin-top:20px;width:100%;cursor:pointer;font-size:15px;box-shadow:0 2px 5px rgba(0,0,0,0.2);}
    .styled-btn:hover{background-color:#e6ac00;}
  </style>
</head>
<body>
  <header>
    <div class="menu-icon" onclick="toggleMenu()">‚ò∞</div>
    <a href="index.html" class="brand">SUBASTACARHN</a>
    <span></span>
  </header>
  <ul id="menu-links">
    <li><a href="https://www.facebook.com/...">Facebook</a></li>
    <li><a href="https://www.instagram.com/...">Instagram</a></li>
    <li><a href="https://www.tiktok.com/...">TikTok</a></li>
    <li><a href="https://wa.me/...">WhatsApp</a></li>
  </ul>

  <div class="layout">
    <div class="contenido-central">
      <h1>Iniciar Sesi√≥n</h1>
      <form id="loginForm">
        <label for="emailL">Correo electr√≥nico</label>
        <input type="email" id="emailL" required />

        <label for="passwordL">Contrase√±a</label>
        <input type="password" id="passwordL" minlength="8" required />

        <button type="submit" class="styled-btn">Entrar</button>
      </form>
      <p style="text-align:center; margin-top:15px;">
        ¬øNo tienes cuenta? <a href="register.html">Registrarse</a>
      </p>
    </div>
  </div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyA5BuOwgEUYK1JMwJD0PL0k0rcAST_Koms",
      authDomain: "subastacarhn-40554.firebaseapp.com",
      projectId: "subastacarhn-40554",
      storageBucket: "subastacarhn-40554.firebasestorage.app",
      messagingSenderId: "536785797974",
      appId: "1:536785797974:web:e3eabb4dcd898c2ffe8cf7",
      measurementId: "G-QM5N60K8C0"
    };
    firebase.initializeApp(firebaseConfig);

    function toggleMenu() {
      const m = document.getElementById('menu-links');
      m.style.display = m.style.display==='block'?'none':'block';
    }

    console.log('üí° Login script cargado');

    document.getElementById('loginForm').addEventListener('submit', e => {
      e.preventDefault();
      console.log('üîê Intentando iniciar sesi√≥n');

      const email = document.getElementById('emailL').value.trim();
      const pass  = document.getElementById('passwordL').value;

      firebase.auth()
        .signInWithEmailAndPassword(email, pass)
        .then(cred => {
          console.log('‚úÖ Login correcto', cred);
          if (!cred.user.emailVerified) {
            alert('‚ö†Ô∏è Verifica tu correo antes de continuar.');
            return;
          }
          // Redirige a la p√°gina que prefieras:
          window.location.href = 'index.html';
        })
        .catch(err => {
          console.error(err);
          alert(err.code==='auth/user-not-found' || err.code==='auth/wrong-password'
            ? '‚ö†Ô∏è Email o contrase√±a incorrectos.'
            : 'Error: '+err.message);
        });
    });
  </script>
</body>
</html>
