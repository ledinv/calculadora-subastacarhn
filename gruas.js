const tarifarioGruasPuertoFlorida = {
  "Alabama": {
    "Birmingham": 475.00
  },
  "Arizona": {
    "Phoenix": 1000.00,
    "Tuscon": 1000.00
  },
  "Arkansas": {
    "Fayetteville": 750.00,
    "Little Rock": 750.00
  },
  "Connecticut": {
    "Hartford": 900.00,
    "Bridgeport": 750.00
  },
  "Florida": {
    "Ft. Lauderdale": 70.00,
    "Ft. Myers": 200.00,
    "Ft. Pierce": 200.00,
    "Miami South": 80.00,
    "Miami Central (Clewiston Sublot)": 160.00,
    "Miami North": 150.00,
    "Local-Miami": 60.00,
    "Ocala": 250.00,
    "Orlando": 200.00,
    "Pensacola": 400.00,
    "Punta Gorda South": 250.00,
    "Punta Gorda South (Sublot)": 275.00,
    "Riverview-Tampa": 200.00,
    "Clearwater": 200.00,
    "Tallahassee": 325.00,
    "Tampa South": 200.00,
    "Tampa South (Mulberry Sublot)": 250.00,
    "Tampa North": 250.00,
    "West Palm Beach": 100.00,
    "West Palm Beach IAAI": 150.00
  },
  "Georgia": {
    "Atlanta East": 350.00,
    "Atlanta North": 375.00,
    "Atlanta South": 350.00,
    "Atlanta West": 350.00,
    "Augusta": 500.00,
    "Cartersville - Sublot": 375.00
  },
  "Illinois": {
    "Chicago": 750.00,
    "Cicero": 750.00
  },
  "Indiana": {
    "Indianapolis": 675.00,
    "Indianapolis Sublote": 750.00
  },
  "Iowa": {
    "Cedar Rapids": 900.00,
    "Davenport": 900.00,
    "Des Moines": 900.00
  },
  "Kansas": {
    "Topeka": 850.00,
    "Wichita": 850.00
  },
  "Kentucky": {
    "Bowling Green": 700.00,
    "Earlington": 850.00,
    "Lexington (East/West)": 675.00,
    "Louisville": 675.00,
    "Walton": 675.00
  },
  "Louisiana": {
    "Baton Rouge": 500.00
  },
  "Maryland": {
    "Baltimore": 550.00,
    "Baltimore East": 550.00
  },
  "Massachusetts": {
    "Boston - Shirley": 900.00
  },
  "Michigan": {
    "Detroit": 800.00,
    "Flint": 825.00,
    "Lansing": 825.00
  },
  "Minnesota": {
    "Minneapolis": 900.00,
    "St. Cloud": 900.00
  },
  "Mississippi": {
    "Jackson": 600.00
  },
  "Missouri": {
    "Kansas City": 850.00,
    "St. Louis": 875.00
  },
  "Nebraska": {
    "Omaha": 900.00
  },
  "Nevada": {
    "Las Vegas": 975.00
  },
  "New Hampshire": {
    "Candia": 950.00
  },
  "New Jersey": {
    "Camden": 950.00
  },
  "New Mexico": {
    "Albuquerque": 900.00
  },
  "New York": {
    "Buffalo": 850.00
  },
  "North Carolina": {
    "Asheville Iaai": 450.00,
    "Charlotte": 450.00,
    "China Grove": 425.00,
    "Concord Iaai": 450.00,
    "Durham": 450.00,
    "Gastonia": 475.00,
    "Greensboro": 450.00,
    "Mebane": 450.00,
    "Mocksville": 475.00,
    "Raleigh": 450.00,
    "Wilmington": 500.00
  },
  "Ohio": {
    "Akron - Canton Iaai": 750.00,
    "Cincinnati": 750.00,
    "Cleveland": 750.00,
    "Columbus": 750.00,
    "Dayton": 750.00
  },
  "Oklahoma": {
    "Oklahoma City": 900.00,
    "Tulsa": 900.00
  },
  "Oregon": {
    "Portland": 975.00
  },
  "Pennsylvania": {
    "Altoona": 800.00,
    "Chambersburg": 800.00,
    "Harrisburg": 750.00,
    "Scranton": 800.00
  },
  "Rhode Island": {
    "Providence": 850.00
  },
  "South Carolina": {
    "Charleston": 375.00,
    "Columbia": 375.00
  },
  "Tennessee": {
    "Chattanooga": 550.00,
    "Knoxville": 550.00,
    "Memphis": 550.00,
    "Nashville": 550.00
  },
  "Texas": {
    "Amarillo": 775.00,
    "Austin": 650.00,
    "Corpus Christi": 550.00,
    "Dallas": 700.00,
    "El Paso": 850.00,
    "Houston": 750.00,
    "Lubbock": 775.00,
    "San Antonio": 750.00
  },
  "Utah": {
    "Salt Lake City": 1000.00
  },
  "Vermont": {
    "Burlington": 950.00
  },
  "Virginia": {
    "Richmond": 600.00,
    "Roanoke": 700.00
  },
  "Washington": {
    "Seattle": 1000.00
  },
  "West Virginia": {
    "Buckhannon": 750.00
  },
  "Wisconsin": {
    "Milwaukee": 850.00
  },
  "Wyoming": {
    "Cheyenne": 975.00
  }
};
  const tarifarioGruasPuertoTexas = {
  "California": {
    "Fresno": 1200.00,
    "Los Angeles": 1100.00,
    "Martinez": 1100.00,
    "R.Cucamonga": 1200.00,
    "Sacramento": 1100.00,
    "S.Bernardino": 1100.00,
    "San Diego": 1100.00,
    "San Jose": 1100.00,
    "Vallejos": 1150.00,
    "Van Nuys": 1150.00,
    "Fontana IAA": 1150.00,
    "Anaheim IAA": 750.00,
    "N. Hollywood": 1150.00,
    "East Bay": 1100.00,
    "Fremont": 1100.00,
    "Hayward": 1100.00
  },
  "Louisiana": {
    "Corp.B. Rouge": 350.00,
    "IAAI B.Rouge": 350.00,
    "New Orleans": 350.00,
    "Sheveport": 350.00
  },
  "Arizona": {
    "Phoenix": 750.00,
    "Tucson": 825.00
  },
  "New Mexico": {
    "Albuquerque": 600.00
  },
  "Arkansas": {
    "Little Rock": 550.00,
    "Fayetteville": 550.00
  },
  "Kansas": {
    "Kansas City": 550.00,
    "Kansas City East": 700.00,
    "Wichita": 550.00
  },
  "Oklahoma": {
    "Oklahoma City": 475.00,
    "Tulsa": 475.00
  },
  "Texas": {
    "Abilene": 325.00,
    "Amarillo": 450.00,
    "Austin": 275.00,
    "Andrews": 425.00,
    "Corpus Christi": 250.00,
    "Corpus Christi IAA": 250.00,
    "Dallas": 250.00,
    "Dallas South – Copart": 275.00,
    "Dallas IAA": 250.00,
    "El Paso": 400.00,
    "El Paso IAA": 400.00,
    "Lafayette": 250.00,
    "Forth Worth": 230.00,
    "Houston Copart": 100.00,
    "Houston East Copart": 140.00,
    "Houston IAA": 100.00,
    "Houston North IAA": 100.00,
    "Houston South": 185.00,
    "Longview": 225.00,
    "Lufkin": 225.00,
    "Mc Allen": 250.00,
    "San Antonio": 225.00,
    "San Antonio Sur IAA": 225.00,
    "Lubbock": 450.00,
    "Permian Basin": 500.00
  }
};
  const tarifarioGruasPuertoDelaware = {
  "Delaware": {
    "New Castle": 100.00,
    "Wilmington": 80.00,
    "Seaford": 225.00
  },
  "District of Columbia": {
    "Washington": 225.00,
    "Metro": 200.00
  },
  "Maryland": {
    "Baltimore": 200.00,
    "Laurel": 175.00,
    "Dundalk": 210.00,
    "Baltimore East (Patapsco)": 265.00,
    "White Plains": 275.00
  },
  "Connecticut": {
    "Hartford": 325.00,
    "Hartford (otro)": 300.00,
    "Springfield": 325.00
  },
  "New Jersey": {
    "Glassboro": 150.00,
    "South Jersey": 150.00,
    "Trenton": 185.00,
    "Somerville": 175.00,
    "Avenel": 200.00,
    "Central Jersey": 200.00,
    "North Jersey": 200.00,
    "Sayreville": 300.00,
    "Englishtown": 275.00
  },
  "Pennsylvania": {
    "Philadelphia": 160.00,
    "Philadelphia East (Chalfont)": 175.00,
    "Philadelphia East (Bridgeport)": 175.00,
    "Philadelphia Sublote (New Castle)": 200.00,
    "Bridgeport IAAI": 135.00,
    "York Haven": 175.00,
    "Harrisburg": 200.00,
    "York Springs": 200.00,
    "Chambersburg": 250.00,
    "Pittsburgh": 375.00,
    "Scranton": 225.00,
    "Altoona": 350.00,
    "Erie": 575.00
  },
  "New York": {
    "Albany": 325.00,
    "Albany Manheim": 350.00,
    "Rochester Sublote (Brockton)": 650.00,
    "Buffalo Copart": 675.00,
    "Buffalo IAAI": 625.00,
    "Long Island Copart": 300.00,
    "Long Island IAAI": 325.00,
    "Newburgh": 275.00,
    "Rochester": 450.00,
    "Syracuse": 375.00
  },
  "Virginia": {
    "Culpeper": 300.00,
    "Danville": 475.00,
    "Fredericksburg South (Sublote)": 360.00,
    "Fredericksburg": 325.00,
    "Hampton": 425.00,
    "Northern Virginia IAAI": 495.00,
    "Pulaski": 525.00,
    "Richmond East": 350.00,
    "Richmond": 400.00,
    "Roanoke": 550.00,
    "Suffolk": 475.00,
    "Tidewater": 345.00
  },
  "Massachusetts": {
    "Boston Shirley": 500.00,
    "North Boston (Sublote)": 550.00,
    "North Boston": 525.00,
    "South Boston": 400.00,
    "Taunton": 400.00,
    "Templeton": 550.00,
    "West Warren (Orleans Sublote)": 825.00,
    "West Warren (Rutland Sublote)": 900.00,
    "West Warren": 475.00
  },
  "Vermont": {
    "Burlington": 755.00
  },
  "Rhode Island": {
    "Exeter": 425.00,
    "Providence": 410.00
  },
  "New Hampshire": {
    "Manchester/Salem": 520.00,
    "Manchester/Salem (Sublote)": 590.00,
    "Candia": 625.00
  },
  "Maine": {
    "Lyman": 625.00,
    "Scarborough": 675.00,
    "Portland Gorham": 675.00,
    "Gray": 725.00,
    "Orono": 825.00
  }
};
// DATOS DE BARCOS SEGÚN TIPO DE VEHÍCULO (NO TOCAR)
const dataGruas = {
  Florida: {
    "Miami": {
      "Turismos Pequeños": { barco: 780 },
      "Turismos Grande": { barco: 970 },
      "Camionetas Regulares": { barco: 795 },
      "Camionetas Grandes": { barco: 1180 },
      "Camionetas XL": { barco: 1750 },
      "Motos Regulares": { barco: 600 },
      "Marcas Exclusivas": { barco: 1000 },
      "Cabina Sencilla (no excediendo 16')": { barco: 970 },
      "Cabina y Media (baja)": { barco: 1260 },
      "Cabina y Media (alto) y doble cabina": { barco: 1380 },
      "Extra Grandes (más de 17'3'')": { barco: 1750 }
    }
  },
  Texas: {
    "Houston": {
      "Turismos Pequeños": { barco: 800 },
      "Turismos Grande": { barco: 980 },
      "Camionetas Regulares": { barco: 950 },
      "Camionetas Grandes": { barco: 1225 },
      "Camionetas XL": { barco: 1775 },
      "Motos Regulares": { barco: 675 },
      "Marcas Exclusivas": { barco: 945 },
      "Cabina Sencilla (no excediendo 16')": { barco: 1050 },
      "Cabina y Media (baja)": { barco: 1280 },
      "Cabina y Media (alto) y doble cabina": { barco: 1380 },
      "Extra Grandes (más de 17'3'')": { barco: 1775 }
    }
  },
  Delaware: {
    "New Castle": {
      "Turismos Pequeños": { barco: 850 },
      "Turismos Grande": { barco: 950 },
      "Camionetas Regulares": { barco: 950 },
      "Camionetas Grandes": { barco: 1230 },
      "Camionetas XL": { barco: 1730 },
      "Motos Regulares": { barco: 700 },
      "Marcas Exclusivas": { barco: 975 },
      "Cabina Sencilla (no excediendo 16')": { barco: 1050 },
      "Cabina y Media (baja)": { barco: 1340 },
      "Cabina y Media (alto) y doble cabina": { barco: 1480 },
      "Extra Grandes (más de 17'3'')": { barco: 1780 }
    }
  }
};

// LLENAR SELECT DE ESTADOS (extraído dinámicamente de todos los tarifarios)
function cargarEstados() {
  const estadoSelect = document.getElementById("estadoSelect");
  estadoSelect.innerHTML = '<option value="">Selecciona un estado</option>';

  const estados = new Set();
  [tarifarioGruasPuertoFlorida, tarifarioGruasPuertoTexas, tarifarioGruasPuertoDelaware].forEach(tarifario => {
    Object.keys(tarifario).forEach(estado => estados.add(estado));
  });

  [...estados].sort().forEach(estado => {
    const option = document.createElement("option");
    option.value = estado;
    option.textContent = estado;
    estadoSelect.appendChild(option);
  });
}
// LLENAR SELECT DE CIUDADES SEGÚN EL ESTADO SELECCIONADO
function cargarCiudades() {
  const estado = document.getElementById("estadoSelect").value;
  const ciudadSelect = document.getElementById("ciudadSelect");
  ciudadSelect.innerHTML = '<option value="">Selecciona una ciudad</option>';

  const ciudades = new Set();

  [tarifarioGruasPuertoFlorida, tarifarioGruasPuertoTexas, tarifarioGruasPuertoDelaware].forEach(tarifario => {
    if (tarifario[estado]) {
      Object.keys(tarifario[estado]).forEach(ciudad => ciudades.add(ciudad));
    }
  });

  [...ciudades].sort().forEach(ciudad => {
    const option = document.createElement("option");
    option.value = ciudad;
    option.textContent = ciudad;
    ciudadSelect.appendChild(option);
  });
}
// MUESTRA PRECIO DE BARCO Y GRÚA SEGÚN ESTADO + CIUDAD + TIPO
function buscarRuta() {
  const estadoSeleccionado = document.getElementById("estadoSelect").value;
  const ciudad = document.getElementById("ciudadSelect").value;
  const tipo = document.getElementById("vehiculoSelect").value;

  const resultadoDiv = document.getElementById("resultadoGrua");
  const barcoText = document.getElementById("precioBarco");
  const gruaText = document.getElementById("precioGrua");
  const errorDiv = document.getElementById("mensajeError");

  let htmlBarco = '';
  let htmlGrua = '';
  let encontrado = false;

  const puertos = [
    { nombre: "Florida", data: tarifarioGruasPuertoFlorida, ciudadBase: "Miami" },
    { nombre: "Texas", data: tarifarioGruasPuertoTexas, ciudadBase: "Houston" },
    { nombre: "Delaware", data: tarifarioGruasPuertoDelaware, ciudadBase: "New Castle" }
  ];

  puertos.forEach(puerto => {
    const tarifario = puerto.data;
    const baseCiudad = puerto.ciudadBase;
    const nombrePuerto = puerto.nombre;

    if (tarifario[estadoSeleccionado] && tarifario[estadoSeleccionado][ciudad]) {
      const valorGrua = tarifario[estadoSeleccionado][ciudad];

      let barco = null;
      if (
        dataGruas[nombrePuerto] &&
        dataGruas[nombrePuerto][baseCiudad] &&
        dataGruas[nombrePuerto][baseCiudad][tipo]
      ) {
        barco = dataGruas[nombrePuerto][baseCiudad][tipo].barco;
      }

      htmlBarco += `🚢 <strong>Barco (${nombrePuerto}):</strong> USD ${barco || 'N/D'}<br>`;
      htmlGrua += `🏗️ <strong>Grúa (${ciudad} - ${nombrePuerto}):</strong> USD ${valorGrua}<br>`;
      encontrado = true;
    }
  });

  if (encontrado) {
    barcoText.innerHTML = htmlBarco;
    gruaText.innerHTML = htmlGrua;
    resultadoDiv.style.display = "block";
    errorDiv.style.display = "none";
  } else {
    resultadoDiv.style.display = "none";
    errorDiv.style.display = "block";
  }
}
